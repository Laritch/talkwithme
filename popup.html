<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instant Translator</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header class="popup-header">
      <div class="logo">
        <img src="icons/icon48.png" alt="Instant Translator">
        <h1>Instant Translator</h1>
      </div>
      <div class="controls">
        <button id="settings-btn" title="Settings" class="icon-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M9.954 2.21a9.99 9.99 0 0 1 4.091-.002A3.993 3.993 0 0 0 16 5.07a3.993 3.993 0 0 0 3.457.261A9.99 9.99 0 0 1 21.5 8.876 3.993 3.993 0 0 0 20 12c0 1.264.586 2.391 1.502 3.124a10.043 10.043 0 0 1-2.046 3.543 3.993 3.993 0 0 0-3.456.261 3.993 3.993 0 0 0-1.954 2.86 9.99 9.99 0 0 1-4.091.004A3.993 3.993 0 0 0 8 18.927a3.993 3.993 0 0 0-3.457-.26A9.99 9.99 0 0 1 2.5 15.121 3.993 3.993 0 0 0 4 12c0-1.264-.586-2.391-1.502-3.124a10.043 10.043 0 0 1 2.046-3.543A3.993 3.993 0 0 0 8 5.072a3.993 3.993 0 0 0 1.954-2.86zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill="currentColor"/></svg>
        </button>
      </div>
    </header>

    <div class="language-selector">
      <div class="source-lang">
        <select id="source-language">
          <option value="auto">Detect Language</option>
          <option value="en">English</option>
          <option value="fr">French</option>
          <option value="es">Spanish</option>
          <option value="de">German</option>
          <option value="it">Italian</option>
          <option value="zh">Chinese</option>
          <option value="ja">Japanese</option>
          <option value="ko">Korean</option>
          <option value="ru">Russian</option>
          <option value="ar">Arabic</option>
        </select>
      </div>

      <button id="swap-languages" class="swap-button" title="Swap Languages">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.05 12.05L21 17l-4.95 4.95-1.414-1.414 2.536-2.537L4 18v-2h13.172l-2.536-2.536 1.414-1.414zm-8.1-10l1.414 1.414L6.828 6H20v2H6.828l2.536 2.536L7.95 11.95 3 7l4.95-4.95z" fill="currentColor"/></svg>
      </button>

      <div class="target-lang">
        <select id="target-language">
          <option value="en">English</option>
          <option value="fr" selected>French</option>
          <option value="es">Spanish</option>
          <option value="de">German</option>
          <option value="it">Italian</option>
          <option value="zh">Chinese</option>
          <option value="ja">Japanese</option>
          <option value="ko">Korean</option>
          <option value="ru">Russian</option>
          <option value="ar">Arabic</option>
        </select>
      </div>
    </div>

    <div class="translator-container">
      <div class="input-section">
        <textarea
          id="source-text"
          placeholder="Enter text to translate"
          rows="5"
        ></textarea>
        <div class="input-actions">
          <button id="clear-btn" class="text-button" title="Clear text">
            Clear
          </button>
          <button id="voice-input-btn" class="icon-button" title="Voice input">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 1a5 5 0 0 1 5 5v6a5 5 0 0 1-10 0V6a5 5 0 0 1 5-5zm0 16a7.5 7.5 0 0 1 7.5 7.5H4.5A7.5 7.5 0 0 1 12 17z" fill="currentColor"/></svg>
          </button>
          <button id="handwriting-btn" class="icon-button" title="Handwriting input">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M15.728 9.686l-1.414-1.414L5 17.586V19h1.414l9.314-9.314zm1.414-1.414l1.414-1.414-1.414-1.414-1.414 1.414 1.414 1.414zM7.242 21H3v-4.243l12.728-12.728 4.243 4.243L7.242 21z" fill="currentColor"/></svg>
          </button>
        </div>
      </div>

      <button id="translate-btn" class="primary-button">
        Translate
      </button>

      <div class="output-section">
        <div class="translation-result" id="translation-result">
          <div class="placeholder">Translation will appear here</div>
        </div>
        <div class="output-actions">
          <button id="copy-btn" class="text-button" title="Copy to clipboard">
            Copy
          </button>
          <button id="speak-btn" class="icon-button" title="Text to speech">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z" fill="currentColor"/></svg>
          </button>
          <button id="suggest-btn" class="icon-button" title="Suggest correction">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M7.243 18H3v-4.243L14.435 2.322a1 1 0 0 1 1.414 0l2.829 2.829a1 1 0 0 1 0 1.414L7.243 18zM3 20h18v2H3v-2z" fill="currentColor"/></svg>
          </button>
        </div>
      </div>
    </div>

    <div class="translation-info">
      <div id="api-used">API: <span>-</span></div>
      <div id="confidence">Confidence: <span>-</span></div>
    </div>

    <div id="handwriting-panel" class="panel hidden">
      <div class="panel-header">
        <h3>Handwriting Input</h3>
        <button id="close-handwriting" class="icon-button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z" fill="currentColor"/></svg>
        </button>
      </div>
      <div class="handwriting-container" id="handwriting-container">
        <!-- Handwriting component will be injected here -->
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
